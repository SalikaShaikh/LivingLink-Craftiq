{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Salika\\\\Desktop\\\\LivingLink\\\\frontend\\\\src\\\\pages\\\\LoginPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport api from '../utils/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst colors = {\n  darkBlue: '#0D1B2A',\n  navy: '#1B263B',\n  blueGray: '#415A77',\n  lightBlueGray: '#778DA9',\n  offWhite: '#E0E1DD'\n};\nexport default function LoginPage({\n  login\n}) {\n  _s();\n  const navigate = useNavigate();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    try {\n      const res = await api.post('/auth/login', {\n        email,\n        password\n      });\n      login({\n        ...res.data.user,\n        token: res.data.token\n      });\n\n      // Redirect based on role\n      switch (res.data.user.role) {\n        case 'resident':\n          navigate('/resident');\n          break;\n        case 'secretary':\n          navigate('/secretary');\n          break;\n        case 'treasurer':\n          navigate('/treasurer');\n          break;\n        case 'security':\n          navigate('/security');\n          break;\n        case 'maintenance':\n          navigate('/maintenance');\n          break;\n        default:\n          navigate('/');\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Login failed');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex justify-content-center align-items-center vh-100\",\n    style: {\n      backgroundColor: colors.navy\n    },\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"p-4 rounded\",\n      style: {\n        backgroundColor: colors.blueGray,\n        width: '320px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-center mb-4\",\n        style: {\n          color: colors.offWhite\n        },\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          style: {\n            color: colors.offWhite\n          },\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          className: \"form-control\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          style: {\n            color: colors.offWhite\n          },\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn w-100\",\n        style: {\n          backgroundColor: colors.darkBlue,\n          color: colors.offWhite\n        },\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-3 text-center\",\n        style: {\n          color: colors.offWhite\n        },\n        children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          style: {\n            color: colors.offWhite,\n            textDecoration: 'underline'\n          },\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 34\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginPage, \"qCGiFeeUWkiIU+KqUq0nNz+KCrI=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useState","useNavigate","Link","api","jsxDEV","_jsxDEV","colors","darkBlue","navy","blueGray","lightBlueGray","offWhite","LoginPage","login","_s","navigate","email","setEmail","password","setPassword","error","setError","handleSubmit","e","preventDefault","res","post","data","user","token","role","err","_err$response","_err$response$data","response","message","className","style","backgroundColor","children","onSubmit","width","color","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","target","required","to","textDecoration","_c","$RefreshReg$"],"sources":["C:/Users/Salika/Desktop/LivingLink/frontend/src/pages/LoginPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport api from '../utils/api';\r\n\r\nconst colors = {\r\n  darkBlue: '#0D1B2A',\r\n  navy: '#1B263B',\r\n  blueGray: '#415A77',\r\n  lightBlueGray: '#778DA9',\r\n  offWhite: '#E0E1DD',\r\n};\r\n\r\nexport default function LoginPage({ login }) {\r\n  const navigate = useNavigate();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    try {\r\n      const res = await api.post('/auth/login', { email, password });\r\n      login({ ...res.data.user, token: res.data.token });\r\n\r\n      // Redirect based on role\r\n      switch (res.data.user.role) {\r\n        case 'resident':\r\n          navigate('/resident');\r\n          break;\r\n        case 'secretary':\r\n          navigate('/secretary');\r\n          break;\r\n        case 'treasurer':\r\n          navigate('/treasurer');\r\n          break;\r\n        case 'security':\r\n          navigate('/security');\r\n          break;\r\n        case 'maintenance':\r\n          navigate('/maintenance');\r\n          break;\r\n        default:\r\n          navigate('/');\r\n      }\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Login failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"d-flex justify-content-center align-items-center vh-100\" style={{ backgroundColor: colors.navy }}>\r\n      <form onSubmit={handleSubmit} className=\"p-4 rounded\" style={{ backgroundColor: colors.blueGray, width: '320px' }}>\r\n        <h3 className=\"text-center mb-4\" style={{ color: colors.offWhite }}>Login</h3>\r\n        {error && <div className=\"alert alert-danger\">{error}</div>}\r\n        <div className=\"mb-3\">\r\n          <label className=\"form-label\" style={{ color: colors.offWhite }}>Email</label>\r\n          <input type=\"email\" className=\"form-control\" value={email} onChange={e => setEmail(e.target.value)} required />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label className=\"form-label\" style={{ color: colors.offWhite }}>Password</label>\r\n          <input type=\"password\" className=\"form-control\" value={password} onChange={e => setPassword(e.target.value)} required />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn w-100\" style={{ backgroundColor: colors.darkBlue, color: colors.offWhite }}>Login</button>\r\n        <p className=\"mt-3 text-center\" style={{ color: colors.offWhite }}>\r\n          Don't have an account? <Link to=\"/register\" style={{ color: colors.offWhite, textDecoration: 'underline' }}>Register</Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}