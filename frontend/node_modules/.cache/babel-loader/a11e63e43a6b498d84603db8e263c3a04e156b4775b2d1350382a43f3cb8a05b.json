{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Salika\\\\Desktop\\\\LivingLink\\\\frontend\\\\src\\\\pages\\\\dashboards\\\\secretary\\\\Notices.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport api from '../../../api/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Notices() {\n  _s();\n  const [notices, setNotices] = useState([]);\n  const [newNotice, setNewNotice] = useState({\n    title: '',\n    content: ''\n  });\n  const [message, setMessage] = useState('');\n  async function fetchNotices() {\n    try {\n      const {\n        data\n      } = await api.get('/notices');\n      setNotices(data);\n    } catch {\n      setNotices([]);\n    }\n  }\n  useEffect(() => {\n    fetchNotices();\n  }, []);\n  function handleChange(e) {\n    setNewNotice(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  }\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setMessage('');\n    if (!newNotice.title.trim() || !newNotice.content.trim()) {\n      setMessage('Title and content are required.');\n      return;\n    }\n    try {\n      await api.post('/notices', newNotice);\n      setMessage('Notice posted successfully!');\n      setNewNotice({\n        title: '',\n        content: ''\n      });\n      fetchNotices();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setMessage(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Failed to post notice.');\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Post New Notice\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      style: {\n        maxWidth: 700\n      },\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"title\",\n          className: \"form-control\",\n          value: newNotice.title,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Content\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"content\",\n          className: \"form-control\",\n          rows: \"4\",\n          value: newNotice.content,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: \"Post Notice\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-info\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"All Notices\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), notices.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No notices posted yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this) : notices.map(notice => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: new Date(notice.createdAt).toLocaleDateString()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: notice.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: notice.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)]\n    }, notice._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(Notices, \"EcFYnf9AdtsDybNj9lPcM/saWqo=\");\n_c = Notices;\nvar _c;\n$RefreshReg$(_c, \"Notices\");","map":{"version":3,"names":["React","useEffect","useState","api","jsxDEV","_jsxDEV","Notices","_s","notices","setNotices","newNotice","setNewNotice","title","content","message","setMessage","fetchNotices","data","get","handleChange","e","prev","target","name","value","handleSubmit","preventDefault","trim","post","err","_err$response","_err$response$data","response","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","style","maxWidth","className","onChange","required","rows","type","length","map","notice","Date","createdAt","toLocaleDateString","_id","_c","$RefreshReg$"],"sources":["C:/Users/Salika/Desktop/LivingLink/frontend/src/pages/dashboards/secretary/Notices.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport api from '../../../api/api';\r\n\r\nexport default function Notices() {\r\n  const [notices, setNotices] = useState([]);\r\n  const [newNotice, setNewNotice] = useState({ title: '', content: '' });\r\n  const [message, setMessage] = useState('');\r\n\r\n  async function fetchNotices() {\r\n    try {\r\n      const { data } = await api.get('/notices');\r\n      setNotices(data);\r\n    } catch {\r\n      setNotices([]);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchNotices();\r\n  }, []);\r\n\r\n  function handleChange(e) {\r\n    setNewNotice(prev => ({ ...prev, [e.target.name]: e.target.value }));\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setMessage('');\r\n    if (!newNotice.title.trim() || !newNotice.content.trim()) {\r\n      setMessage('Title and content are required.');\r\n      return;\r\n    }\r\n    try {\r\n      await api.post('/notices', newNotice);\r\n      setMessage('Notice posted successfully!');\r\n      setNewNotice({ title: '', content: '' });\r\n      fetchNotices();\r\n    } catch (err) {\r\n      setMessage(err.response?.data?.message || 'Failed to post notice.');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>Post New Notice</h3>\r\n      <form onSubmit={handleSubmit} style={{ maxWidth: 700 }} className=\"mb-4\">\r\n        <div className=\"mb-3\">\r\n          <label>Title</label>\r\n          <input name=\"title\" className=\"form-control\" value={newNotice.title} onChange={handleChange} required />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label>Content</label>\r\n          <textarea name=\"content\" className=\"form-control\" rows=\"4\" value={newNotice.content} onChange={handleChange} required />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">Post Notice</button>\r\n      </form>\r\n      {message && <div className=\"alert alert-info\">{message}</div>}\r\n\r\n      <h5>All Notices</h5>\r\n      {notices.length === 0 ? (\r\n        <p>No notices posted yet.</p>\r\n      ) : (\r\n        notices.map(notice => (\r\n          <div key={notice._id} className=\"card mb-3\">\r\n            <div className=\"card-header\">{new Date(notice.createdAt).toLocaleDateString()}</div>\r\n            <div className=\"card-body\">\r\n              <h5>{notice.title}</h5>\r\n              <p>{notice.content}</p>\r\n            </div>\r\n          </div>\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}